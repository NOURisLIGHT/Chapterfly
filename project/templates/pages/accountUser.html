{% extends 'base.html' %}
{% load static %}

{% block content %}
<title>Account</title>
<meta name="csrf-token" content="{{ csrf_token }}">
<link rel="stylesheet" href="{% static 'styles/account.css' %}">
<div id="bd-title">
    <h2 class="main-title">Profile</h2>
</div>
<div class="profileBody container">
    <div id="userProfile" class="container">
        <div id="profileSection">
<!--            <div id="profilePic">-->
<!--                <img id="profileImg" src="{{ profilePicture }}" alt="Profile Picture">-->
<!--            </div>-->
            <form method="post" enctype="multipart/form-data" id="profilePhotoForm">
            {% csrf_token %}
            <div>
<!--            <label for="id_profilePicture">Profile Picture:</label><br>-->
             {% if profilePicture %}
           <img src="{{ profilePicture }}" alt="Profile Picture", style="width: 100px; height: 100px; border-radius: 50%; overflow: hidden; position: relative;">
           <br>

             {% endif %}
             <label for="id_profilePicture">Change:</label><input type="file" name="profilePicture" accept="image/*" id="id_profilePicture">
            </div>
            <button type="submit">Update Profile Photo</button>
        </form>

            <h2 id="username-profile">{{ username|default:'user'|capfirst }}</h2>

        </div>
        <!-- Profile photo upload form -->

    </div>
</div>
<h3 id="manage-book" class="main-title">Your books</h3>
<div class="profileBody">
    <div id="manageBooks" class="container"></div>
    <div class="container" id="bookshelf">
        <section id="borrowed-books">
            <h2 class="borrowed-title">Borrowed Books</h2>
            <div id="borrowed-books-list" class="container">
                <!-- The books will be dynamically added here -->
            </div>
        </section>
    </div>
</div>
<div class="container" id="bookshelf">
    <button id="log-out" onclick="window.location.href = '{% url 'logout' %}'">Log Out</button>
</div>
<script src="{% static 'javascript/account.js' %}"></script>

{% endblock content %}
